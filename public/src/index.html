<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Public</title>
    <!-- Babylon.js -->
    <script src="https://preview.babylonjs.com/viewer/babylon.viewer.js"></script>
    <base href="/" />
    <style>
        html, body {
            overflow: hidden;
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }

        #renderCanvas {
            width: 100%;
            height: 100%;
            touch-action: none;
        }
    </style>
  </head>
  <body>
    <app-root></app-root>
    <canvas id="renderCanvas"></canvas>
    <script>

        var canvas = document.getElementById("renderCanvas");

        var delayCreateScene = function() {

          // Create a scene.
          var scene = new BABYLON.Scene(engine);

          // Create a camera
          var camera = new BABYLON.FreeCamera(
            "camera",
            new BABYLON.Vector3(0, 5, -10),
            scene
          );

          // Target the camera to scene origin.
          camera.setTarget(BABYLON.Vector3.Zero());

          // Attach the camera to the canvas.
          camera.attachControl(canvas, false);


          // Append glTF model to scene.
          BABYLON.SceneLoader.Append(
            "./assets/",
            "scene.gltf",
            scene,
            function(mesh) {
              // Create a default arc rotate camera and light.
              scene.createDefaultCameraOrLight(true, true, true);
              // The default camera looks at the back of the asset.
              // Rotate the camera by 180 degrees to the front of the asset.
              scene.activeCamera.alpha += Math.PI;
            }
          );

          return scene;
        };

        var engine = new BABYLON.Engine(canvas, true, { preserveDrawingBuffer: true, stencil: true });
        var scene = delayCreateScene();

        engine.runRenderLoop(function() {
          if (scene) {
            scene.render();
          }
        });

        window.addEventListener("resize", function() {
          engine.resize();
        });

    </script>

  </body>
</html>
